// Question Bank
const questionBank = {
    0: {
        ques: "Who is known as \"God of Cricket\"?",
        A: "M.S Dhoni",
        B: "Sachin Tendulkar",
        C: "Virat Kohli",
        D: "Rohit Sharma",
        correctOpt: "B",
        correctAns: "Sachin Tendulkar",
        quesId: "q1"
    },
    1: {
        ques: "What is the capital of France?",
        A: "Berlin",
        B: "Madrid",
        C: "Paris",
        D: "Rome",
        correctOpt: "C",
        correctAns: "Paris",
        quesId: "q2"   
    },
    2: {
        ques: "Which planet is known as the Red Planet?",
        A: "Earth",
        B: "Venus",
        C: "Mars",
        D: "Jupiter",
        correctOpt: "C",
        correctAns: "Mars",
        quesId: "q3"
    },
    3: {
        ques: "Who wrote the play 'Romeo and Juliet'?",
        A: "William Wordsworth",
        B: "William Shakespeare",
        C: "Charles Dickens",
        D: "Jane Austen",
        correctOpt: "B",
        correctAns: "William Shakespeare",
        quesId: "q4"
    },
    4: {
        ques: "What is the chemical symbol for water?",
        A: "O2",
        B: "H2O",
        C: "CO2",
        D: "NaCl",
        correctOpt: "B",
        correctAns: "H2O",
        quesId: "q5"
    },
    5: {
        ques: "Which is the largest mammal in the world?",
        A: "Elephant",
        B: "Blue Whale",
        C: "Giraffe",
        D: "Polar Bear",
        correctOpt: "B",
        correctAns: "Blue Whale",
        quesId: "q6"
    },
    6: {
        ques: "What is the powerhouse of the cell?",
        A: "Ribosome",
        B: "Nucleus",
        C: "Mitochondria",
        D: "Golgi Apparatus",
        correctOpt: "C",
        correctAns: "Mitochondria",
        quesId: "q7"
    },
    7: {
        ques: "Which is the smallest prime number?",
        A: "0",
        B: "1",
        C: "2",
        D: "3",
        correctOpt: "C",
        correctAns: "2",
        quesId: "q8"
    },
    8: {
        ques: "What is the freezing point of water?",
        A: "0°C",
        B: "32°C",
        C: "100°C",
        D: "273°C",
        correctOpt: "A",
        correctAns: "0°C",
        quesId: "q9"
    },
    9: {
        ques: "Which country is known as the Land of Rising Sun?",
        A: "China",
        B: "Japan",
        C: "India",
        D: "Thailand",
        correctOpt: "B",
        correctAns: "Japan",
        quesId: "q10"
    },
    10: {
        ques: "Which gas is most abundant in Earth's atmosphere?",
        A: "Oxygen",
        B: "Carbon Dioxide",
        C: "Nitrogen",
        D: "Hydrogen",
        correctOpt: "C",
        correctAns: "Nitrogen",
        quesId: "q11"
    },
    11: {
        ques: "What is the square root of 81?",
        A: "7",
        B: "8",
        C: "9",
        D: "10",
        correctOpt: "C",
        correctAns: "9",
        quesId: "q12"
    },
    12: {
        ques: "Which metal is liquid at room temperature?",
        A: "Gold",
        B: "Mercury",
        C: "Iron",
        D: "Copper",
        correctOpt: "B",
        correctAns: "Mercury",
        quesId: "q13"
    },
    13: {
        ques: "What is the capital of India?",
        A: "Mumbai",
        B: "New Delhi",
        C: "Kolkata",
        D: "Chennai",
        correctOpt: "B",
        correctAns: "New Delhi",
        quesId: "q14"
    },
    14: {
        ques: "Which ocean is the largest?",
        A: "Atlantic Ocean",
        B: "Indian Ocean",
        C: "Arctic Ocean",
        D: "Pacific Ocean",
        correctOpt: "D",
        correctAns: "Pacific Ocean",
        quesId: "q15"
    },
    15: {
        ques: "Which instrument is used to measure temperature?",
        A: "Barometer",
        B: "Thermometer",
        C: "Hygrometer",
        D: "Altimeter",
        correctOpt: "B",
        correctAns: "Thermometer",
        quesId: "q16"
    },
    16: {
        ques: "Who painted the Mona Lisa?",
        A: "Vincent van Gogh",
        B: "Pablo Picasso",
        C: "Leonardo da Vinci",
        D: "Claude Monet",
        correctOpt: "C",
        correctAns: "Leonardo da Vinci",
        quesId: "q17"
    },
    17: {
        ques: "What is the speed of light?",
        A: "3 x 10^8 m/s",
        B: "3 x 10^6 m/s",
        C: "3 x 10^7 m/s",
        D: "3 x 10^9 m/s",
        correctOpt: "A",
        correctAns: "3 x 10^8 m/s",
        quesId: "q18"
    },
    18: {
        ques: "Who discovered penicillin?",
        A: "Marie Curie",
        B: "Alexander Fleming",
        C: "Isaac Newton",
        D: "Albert Einstein",
        correctOpt: "B",
        correctAns: "Alexander Fleming",
        quesId: "q19"
    },
    19: {
        ques: "Which country has the highest population?",
        A: "USA",
        B: "India",
        C: "China",
        D: "Russia",
        correctOpt: "C",
        correctAns: "China",
        quesId: "q20"
    },
    20: {
        ques: "Who developed the theory of relativity?",
        A: "Albert Einstein",
        B: "Isaac Newton",
        C: "Nikola Tesla",
        D: "Galileo Galilei",
        correctOpt: "A",
        correctAns: "Albert Einstein",
        quesId: "q21"
    },
    21: {
        ques: "What is the derivative of sin(x)?",
        A: "cos(x)",
        B: "-sin(x)",
        C: "-cos(x)",
        D: "tan(x)",
        correctOpt: "A",
        correctAns: "cos(x)",
        quesId: "q22"
    },
    22: {
        ques: "Which element has the atomic number 79?",
        A: "Gold",
        B: "Silver",
        C: "Platinum",
        D: "Copper",
        correctOpt: "A",
        correctAns: "Gold",
        quesId: "q23"
    },
    23: {
        ques: "What is the binary equivalent of decimal 13?",
        A: "1100",
        B: "1010",
        C: "1101",
        D: "1110",
        correctOpt: "C",
        correctAns: "1101",
        quesId: "q24"
    },
    24: {
        ques: "Who was the first person to step on the moon?",
        A: "Buzz Aldrin",
        B: "Neil Armstrong",
        C: "Yuri Gagarin",
        D: "Michael Collins",
        correctOpt: "B",
        correctAns: "Neil Armstrong",
        quesId: "q25"
    },
    25: {
        ques: "What is the integral of 1/x dx?",
        A: "ln(x)",
        B: "x^2/2",
        C: "1/x^2",
        D: "-ln(x)",
        correctOpt: "A",
        correctAns: "ln(x)",
        quesId: "q26"
    },
    26: {
        ques: "Which is the largest known prime number as of 2024?",
        A: "2^77,232,917 - 1",
        B: "2^82,589,933 - 1",
        C: "2^74,207,281 - 1",
        D: "2^57,885,161 - 1",
        correctOpt: "B",
        correctAns: "2^82,589,933 - 1",
        quesId: "q27"
    },
    27: {
        ques: "What is the smallest country in the world by area?",
        A: "Monaco",
        B: "Vatican City",
        C: "San Marino",
        D: "Liechtenstein",
        correctOpt: "B",
        correctAns: "Vatican City",
        quesId: "q28"
    },
    28: {
        ques: "Who is the author of the book 'A Brief History of Time'?",
        A: "Carl Sagan",
        B: "Stephen Hawking",
        C: "Richard Feynman",
        D: "Neil deGrasse Tyson",
        correctOpt: "B",
        correctAns: "Stephen Hawking",
        quesId: "q29"
    },
    29: {
        ques: "Which programming language is primarily used for Android development?",
        A: "Python",
        B: "Java",
        C: "Swift",
        D: "Ruby",
        correctOpt: "B",
        correctAns: "Java",
        quesId: "q30"
    },
    30: {
        ques: "What is the result of the expression 5! (5 factorial)?",
        A: "25",
        B: "60",
        C: "120",
        D: "720",
        correctOpt: "C",
        correctAns: "120",
        quesId: "q31"
    },
    31: {
        ques: "What is the Heisenberg Uncertainty Principle related to?",
        A: "Energy and mass",
        B: "Velocity and acceleration",
        C: "Position and momentum",
        D: "Light and sound",
        correctOpt: "C",
        correctAns: "Position and momentum",
        quesId: "q32"
    },
    32: {
        ques: "What is the hexadecimal representation of the decimal number 255?",
        A: "FF",
        B: "FE",
        C: "F0",
        D: "EF",
        correctOpt: "A",
        correctAns: "FF",
        quesId: "q33"
    },
    33: {
        ques: "What is the acceleration due to gravity on Earth?",
        A: "9.8 m/s^2",
        B: "10 m/s^2",
        C: "8.9 m/s^2",
        D: "11 m/s^2",
        correctOpt: "A",
        correctAns: "9.8 m/s^2",
        quesId: "q34"
    },
    34: {
        ques: "Which algorithm has a time complexity of O(n log n) for sorting?",
        A: "Bubble Sort",
        B: "Quick Sort",
        C: "Merge Sort",
        D: "Insertion Sort",
        correctOpt: "C",
        correctAns: "Merge Sort",
        quesId: "q35"
    },
    35: {
        ques: "What is the boiling point of water at sea level in Fahrenheit?",
        A: "100°F",
        B: "180°F",
        C: "212°F",
        D: "220°F",
        correctOpt: "C",
        correctAns: "212°F",
        quesId: "q36"
    },
    36: {
        ques: "Which planet has the most moons?",
        A: "Saturn",
        B: "Jupiter",
        C: "Uranus",
        D: "Neptune",
        correctOpt: "A",
        correctAns: "Saturn",
        quesId: "q37"
    },
    37: {
        ques: "Which data structure uses LIFO (Last In First Out)?",
        A: "Queue",
        B: "Stack",
        C: "Linked List",
        D: "Heap",
        correctOpt: "B",
        correctAns: "Stack",
        quesId: "q38"
    },
    38: {
        ques: "Who is considered the father of computer science?",
        A: "Alan Turing",
        B: "Charles Babbage",
        C: "John von Neumann",
        D: "Dennis Ritchie",
        correctOpt: "A",
        correctAns: "Alan Turing",
        quesId: "q39"
    },
    39: {
        ques: "What is the SI unit of electric current?",
        A: "Volt",
        B: "Coulomb",
        C: "Ohm",
        D: "Ampere",
        correctOpt: "D",
        correctAns: "Ampere",
        quesId: "q40"
    },
    40: {
        ques: "What is the square root of 256?",
        A: "14",
        B: "15",
        C: "16",
        D: "17",
        correctOpt: "C",
        correctAns: "16",
        quesId: "q41"
    },
    41: {
        ques: "Who developed the C programming language?",
        A: "Dennis Ritchie",
        B: "James Gosling",
        C: "Bjarne Stroustrup",
        D: "Guido van Rossum",
        correctOpt: "A",
        correctAns: "Dennis Ritchie",
        quesId: "q42"
    },
    42: {
        ques: "What is the integral of 1/x?",
        A: "ln(x)",
        B: "1/x^2",
        C: "x^2/2",
        D: "e^x",
        correctOpt: "A",
        correctAns: "ln(x)",
        quesId: "q43"
    },
    43: {
        ques: "What is the chemical formula for salt?",
        A: "H2O",
        B: "NaCl",
        C: "KCl",
        D: "CaCO3",
        correctOpt: "B",
        correctAns: "NaCl",
        quesId: "q44"
    },
    44: {
        ques: "Who was the first person to set foot on the moon?",
        A: "Yuri Gagarin",
        B: "Buzz Aldrin",
        C: "Neil Armstrong",
        D: "John Glenn",
        correctOpt: "C",
        correctAns: "Neil Armstrong",
        quesId: "q45"
    },
    45: {
        ques: "What is the national flower of India?",
        A: "Lotus",
        B: "Rose",
        C: "Sunflower",
        D: "Marigold",
        correctOpt: "A",
        correctAns: "Lotus",
        quesId: "q46"
    },
    46: {
        ques: "Which country won the FIFA World Cup in 2018?",
        A: "Brazil",
        B: "Germany",
        C: "France",
        D: "Argentina",
        correctOpt: "C",
        correctAns: "France",
        quesId: "q47"
    },
    47: {
        ques: "What does HTTP stand for?",
        A: "HyperText Transfer Protocol",
        B: "HyperText Transfer Page",
        C: "HyperText Transmission Protocol",
        D: "HyperText Transaction Protocol",
        correctOpt: "A",
        correctAns: "HyperText Transfer Protocol",
        quesId: "q48"
    },
    48: {
        ques: "Who is the author of 'Pride and Prejudice'?",
        A: "Emily Bronte",
        B: "Jane Austen",
        C: "George Eliot",
        D: "Virginia Woolf",
        correctOpt: "B",
        correctAns: "Jane Austen",
        quesId: "q49"
    },
    49: {
        ques: "What is the smallest continent by land area?",
        A: "Europe",
        B: "Australia",
        C: "Antarctica",
        D: "South America",
        correctOpt: "B",
        correctAns: "Australia",
        quesId: "q50"
    },
    50: {
        ques: "What is the hardest natural substance on Earth?",
        A: "Iron",
        B: "Graphite",
        C: "Diamond",
        D: "Quartz",
        correctOpt: "C",
        correctAns: "Diamond",
        quesId: "q51"
    },
    51: {
        ques: "Which is the smallest planet in the solar system?",
        A: "Mercury",
        B: "Venus",
        C: "Mars",
        D: "Pluto",
        correctOpt: "A",
        correctAns: "Mercury",
        quesId: "q52"
    },
    52: {
        ques: "What is the capital of Australia?",
        A: "Sydney",
        B: "Melbourne",
        C: "Canberra",
        D: "Perth",
        correctOpt: "C",
        correctAns: "Canberra",
        quesId: "q53"
    },
    53: {
        ques: "What is the boiling point of water in Fahrenheit?",
        A: "100°F",
        B: "212°F",
        C: "180°F",
        D: "32°F",
        correctOpt: "B",
        correctAns: "212°F",
        quesId: "q54"
    },
    54: {
        ques: "Who is the founder of Microsoft?",
        A: "Steve Jobs",
        B: "Mark Zuckerberg",
        C: "Bill Gates",
        D: "Larry Page",
        correctOpt: "C",
        correctAns: "Bill Gates",
        quesId: "q55"
    },
    55: {
        ques: "Which organ in the human body is responsible for pumping blood?",
        A: "Lungs",
        B: "Brain",
        C: "Heart",
        D: "Liver",
        correctOpt: "C",
        correctAns: "Heart",
        quesId: "q56"
    },
    56: {
        ques: "What is the chemical formula for carbon dioxide?",
        A: "CO",
        B: "CO2",
        C: "C2O",
        D: "C2O2",
        correctOpt: "B",
        correctAns: "CO2",
        quesId: "q57"
    },
    57: {
        ques: "Who was the first President of the United States?",
        A: "Thomas Jefferson",
        B: "George Washington",
        C: "Abraham Lincoln",
        D: "John Adams",
        correctOpt: "B",
        correctAns: "George Washington",
        quesId: "q58"
    },
    58: {
        ques: "Which Indian scientist is known for their work on the Raman Effect?",
        A: "C.V. Raman",
        B: "Homi Bhabha",
        C: "Satyendra Nath Bose",
        D: "Jagadish Chandra Bose",
        correctOpt: "A",
        correctAns: "C.V. Raman",
        quesId: "q59"
    },
    59: {
        ques: "What is the unit of electrical resistance?",
        A: "Ohm",
        B: "Ampere",
        C: "Volt",
        D: "Watt",
        correctOpt: "A",
        correctAns: "Ohm",
        quesId: "q60"
    },
    noQuestions: 60
};

// Blank Question Paper containing 5 questions
const questionPaper = {
    length: 0
};

// Random 5 questions selection
let noQuestions = 5;
const currentQuestions = [];
for(let i=0; i<noQuestions; i++){
    const interval = Math.floor(questionBank.noQuestions/noQuestions)
    currentQuestions.push(Math.floor(Math.random()*interval)+i*interval);
}
// accessing quizContainer element and submit button
const quizContainer = document.getElementById("quizContainer");
const submitButton = document.getElementById("submitButton");

// question Paper making
for(let i=0; i<noQuestions; i++)
{    
    // question making
    const ques = document.createElement("div");
    ques.classList.add("ques");

    // adding question statement
    const para = document.createElement("p");
    para.innerHTML = `${i+1}. ${questionBank[currentQuestions[i]].ques}`;
    ques.appendChild(para);
    
    // adding options
    for(let j=1; j<=4; j++){
        const label = document.createElement("label");
        label.classList.add("option");
        label.innerHTML = `<input type="radio" name="q${i+1}" value="${String.fromCharCode(64+j)}">${questionBank[currentQuestions[i]][`${String.fromCharCode(64+j)}`]}`;
        ques.appendChild(label);
    }
 
    // adding question in quiz container
    quizContainer.insertBefore(ques, submitButton);

    questionPaper[`q${i+1}`] =  currentQuestions[i];
    questionPaper.length++;
}

document.getElementById("restartQuiz").addEventListener('click',(event)=>{
    location.reload();
    document.getElementById("noQuestionsInput").value = "5";
})
document.getElementById("noQuestionsInput").addEventListener('input',(event)=>{

    const quesList = Array.from(quizContainer.getElementsByClassName("ques"));
    for(let i=0; i<quesList.length; i++)
    {
        quesList[i].remove();
    }
    
    // Random 5 questions selection
    if(event.target.value>60)
        event.target.value = 60;
    noQuestions = event.target.value;
    const currentQuestions = [];
    for(let i=0; i<noQuestions; i++){
        const interval = Math.floor(questionBank.noQuestions/noQuestions)
        currentQuestions.push(Math.floor(Math.random()*interval)+i*interval);
    }
    
    // question Paper making
    for(let i=0; i<noQuestions; i++)
    {    
        // question making
        const ques = document.createElement("div");
        ques.classList.add("ques");
    
        // adding question statement
        const para = document.createElement("p");
        para.innerHTML = `${i+1}. ${questionBank[currentQuestions[i]].ques}`;
        ques.appendChild(para);
        
        // adding options
        for(let j=1; j<=4; j++){
            const label = document.createElement("label");
            label.classList.add("option");
            label.innerHTML = `<input type="radio" name="q${i+1}" value="${String.fromCharCode(64+j)}">${questionBank[currentQuestions[i]][`${String.fromCharCode(64+j)}`]}`;
            ques.appendChild(label);
        }
     
        // adding question in quiz container
        quizContainer.insertBefore(ques, submitButton);
    
        questionPaper[`q${i+1}`] =  currentQuestions[i];
        questionPaper.length++;
    }
    })

// Calculating Score
document.getElementById("quizContainer").addEventListener('submit',(event)=>{ 
    event.preventDefault();
    const wrongAnsColl = Array.from(document.getElementsByClassName("wrongAns"))
    for(let i=0; i<wrongAnsColl.length; i++)
    {
        wrongAnsColl[i].remove();
    }
    document.getElementById("result").style.display = "flex";
    let score = 0;
    let noWrongs = 0;
    const wrongAns = [];
    const ansSheet = Array.from((new FormData(document.querySelector("form"))).entries());
    for(let [ques, opt] of ansSheet){
        if(opt == questionBank[questionPaper[ques]].correctOpt)
            score++;
        else
        {
            noWrongs++;
            wrongAns.push([ques,opt]);
        }
    }
    
    document.getElementById("totalQuestions").innerHTML = `Total Questions: ${noQuestions}`;
    document.getElementById("attempted").innerHTML = `Attempted: ${ansSheet.length}`;
    document.getElementById("right").innerHTML = `Right: ${score}`;
    document.getElementById("wrong").innerHTML = `Wrong: ${noWrongs}`;

    for(let wrong of wrongAns)
    {

        const ques = document.createElement("div");
        ques.classList.add("wrongAns")
        const para = document.createElement("p");
        para.innerHTML = `${wrong[0][1]}. ${questionBank[questionPaper[wrong[0]]].ques}`;
        ques.appendChild(para);
        para.classList.add("quesStatement")

        for(let i=1; i<=4; i++)
        {
            document.getElementById("explanations").querySelector("div");
            const option = document.createElement("div");
            option.innerHTML = `${String.fromCharCode(64+i)}) ${questionBank[questionPaper[wrong[0]]][String.fromCharCode(64+i)]}`
            ques.appendChild(option);
            if(String.fromCharCode(64+i) === wrong[1])
                option.style.color = "red";
            else if(String.fromCharCode(64+i) === questionBank[questionPaper[wrong[0]]].correctOpt)
                option.style.color = "green";
        }
        document.getElementById("explanations").appendChild(ques);
    }
    
})



